<div id="rmSeasonTabs" class="rm-season-tabs"></div>
<div class="rm-season-title-wrapper">
  <h2 id="rmSeasonTitle" class="rm-season-title"></h2>
  <span id="rmSeasonYear" class="rm-season-year"></span>
</div>
<div id="camps-grid" class="rm-camps-grid"></div>

<div class="rm-modal" id="campModal">
  <div class="rm-modal__backdrop" id="campModalBackdrop" data-modal-close></div>
  <div class="rm-modal__dialog">
    <div class="rm-modal__head">
      <h3 class="rm-modal__title" id="campModalTitle">Camp</h3>
      <button class="rm-modal__close" type="button" data-modal-close>✕</button>
    </div>
    <div class="rm-modal__body">
      <div class="rm-modal__field">
        <label for="campSlotSelect">Termin</label>
        <select id="campSlotSelect" class="rm-select"></select>
      </div>
      <div class="rm-modal__row">
        <div class="rm-modal__field">
          <label for="campChildFirst">Vorname</label>
          <input id="campChildFirst" class="rm-input" type="text" />
        </div>
        <div class="rm-modal__field">
          <label for="campChildLast">Nachname</label>
          <input id="campChildLast" class="rm-input" type="text" />
        </div>
      </div>
      <div class="rm-modal__note" id="campModalNote"></div>
    </div>
    <div class="rm-modal__foot">
      <button class="rm-btn rm-pay" id="campModalAdd">Zum Warenkorb</button>
    </div>
  </div>
</div>

<style>
  .rm-camps-grid {
    max-width: 1200px;
    margin: 0 auto;
  }

  /* прячем сетку до готового состояния, чтобы избежать дерганий */
  .rm-camps-grid--hidden {
    visibility: hidden;
  }

  .rm-modal {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
  }

  .rm-modal.open {
    display: flex;
  }

  .rm-modal--hidden {
    visibility: hidden;
  }
</style>

<link
  rel="stylesheet"
  href="https://clavis-readymag-stripe.vercel.app/clavis-camps-widget.css"
/>

<script src="https://clavis-readymag-stripe.vercel.app/clavis-camps-widget.js"></script>

<script>
  window.ClavisConfig = window.ClavisGlobalConfig;

  (function waitForCampsBlock() {
    const grid = document.querySelector('#camps-grid');

    if (
      grid &&
      window.ClavisConfig &&
      typeof window.ClavisCampsInit === 'function'
    ) {
      window.ClavisCampsInit();
    } else {
      setTimeout(waitForCampsBlock, 30);
    }
  })();
</script>
